window.name = "news-site-nuxt"; window.version = "1.0.0"; function t(t,e,n){const a=new CustomEvent(e);a.name=e,a.state=n,t.dispatchEvent(a)}const e=history.pushState;history.pushState=function(n){const a=e.apply(history,arguments);return t(window,"pushstate",n),t(window,"statechange",n),a};const n=history.replaceState;history.replaceState=function(e){const a=n.apply(history,arguments);return t(window,"replacestate",e),t(window,"statechange",e),a},window.addEventListener("popstate",(function(e){t(window,"statechange",e.state)}));const a=window.name&&window.version?`${window.name}-${window.version}`:-1;window.onmessage=async t=>{if(t.data.id!==a||"benchmark-connector"!==t.data.type)return;const{name:e}=t.data,n=new Function(`return ${t.data.fn}`)();n&&(requestAnimationFrame((()=>{performance.mark(`${e}-start`)})),requestAnimationFrame((async()=>{await n(),setTimeout((()=>{performance.mark(`${e}-end`),performance.measure(`${e}`,{start:`${e}-start`,end:`${e}-end`});const t=JSON.stringify(performance.getEntriesByName(`${e}`)[0]);window.top.postMessage({type:"test-completed",status:"success",result:t},"*")}),0)})))},window.top.postMessage({type:"app-ready",status:"success",appId:a},"*"),console.log(`Hello, benchmark connector for ${a} is ready!`);
