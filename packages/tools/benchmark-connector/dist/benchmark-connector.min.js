function t(t,e,a){const s=new CustomEvent(e);s.name=e,s.state=a,t.dispatchEvent(s)}const e=history.pushState;history.pushState=function(a){const s=e.apply(history,arguments);return t(window,"pushstate",a),t(window,"statechange",a),s};const a=history.replaceState;history.replaceState=function(e){const s=a.apply(history,arguments);return t(window,"replacestate",e),t(window,"statechange",e),s},window.addEventListener("popstate",(function(e){t(window,"statechange",e.state)}));window.onmessage=async t=>{if("222"!==t.data.id||"speedo"!==t.data.type)return;const{name:e}=t.data,a=new Function(`return ${t.data.fn}`)();a&&(requestAnimationFrame((()=>{performance.mark(`${e}-start`)})),requestAnimationFrame((async()=>{await a(),setTimeout((()=>{performance.mark(`${e}-end`),performance.measure(`${e}`,{start:`${e}-start`,end:`${e}-end`});const t=JSON.stringify(performance.getEntriesByName(`${e}`)[0]);window.top.postMessage({type:"test-completed",status:"success",result:t},"*")}),0)})))},window.top.postMessage({type:"app-ready",status:"success",appId:"222"},"*");
