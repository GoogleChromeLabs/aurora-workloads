const fs=require("fs").promises,{resolve:resolve}=require("path");async function deleteFile(e){try{await fs.unlink(e),console.log(`File ${e} has been deleted.`)}catch(e){console.error("No previous file exists, no need to delete!")}}async function copyAndUpdate({meta:e,src:n,dest:o}){let a=await fs.readFile(`${n}`,"utf8");if(e){const n=await fs.readFile(resolve(e)),{name:o,version:i}=JSON.parse(n);a=`window.name = "${o}"; window.version = "${i}"; ${a}`}await fs.writeFile(`${o}`,a)}async function prepare(){await deleteFile("public/benchmark-connector.min.js"),await copyAndUpdate({meta:"./package.json",src:"node_modules/benchmark-connector/dist/benchmark-connector.min.js",dest:"public/benchmark-connector.min.js"}),console.log("Done with preparation!")}prepare();